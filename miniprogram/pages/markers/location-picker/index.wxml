<view class="picker-page">
  <map
    id="picker-map"
    class="picker-map"
    latitude="{{latitude}}"
    longitude="{{longitude}}"
    scale="{{scale}}"
    show-location="{{showUserLocation}}"
    enable-overlooking="{{false}}"
    enable-3D="{{false}}"
    enable-zoom="{{true}}"
    enable-scroll="{{true}}"
    enable-satellite="{{false}}"
    enable-traffic="{{false}}"
    bindregionchange="onRegionChange"
  >
    <cover-view class="center-pin">
      <cover-view class="pin-body"></cover-view>
      <cover-view class="pin-shadow"></cover-view>
    </cover-view>
    <cover-view class="address-bubble">
      <cover-view class="address-main">
        <cover-view wx:if="{{addressLoading}}">正在获取详细地址...</cover-view>
        <cover-view wx:elif="{{addressMain}}">{{addressMain}}</cover-view>
        <cover-view wx:else>拖动地图选择目标位置</cover-view>
      </cover-view>
      <cover-view class="address-detail" wx:if="{{!addressLoading && addressDetail}}">
        {{addressDetail}}
      </cover-view>
    </cover-view>
  </map>
  <view class="actions">
    <view class="error-text" wx:if="{{addressError}}">{{addressError}}</view>
    <button
      class="confirm-btn"
      type="primary"
      bindtap="onConfirm"
      disabled="{{!canConfirm}}"
    >
      确认位置
    </button>
  </view>
</view>
